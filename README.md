# 匈汉象棋 (XiongHan Chess)

一个融合了中国传统象棋与匈牙利文化元素的创新象棋变体游戏，基于PyGame开发，支持双人对战和智能AI对弈。

## 🎮 项目概述

匈汉象棋是一款独特的中国象棋变体，采用13×13的扩展棋盘，不仅保留了传统象棋的经典元素，还加入了具有匈牙利文化特色的全新棋子和规则，为玩家带来前所未有的策略体验。

## ✨ 核心特性

### 🎲 丰富的游戏模式
- **双人对战**: 本地双人竞技，增进友谊与智慧碰撞
- **人机对战**: 配备多个难度级别的AI对手，适合练习与挑战

### 🧠 智能AI系统
- **传统AI**: 基于Negamax算法，结合Alpha-Beta剪枝、历史启发和MVV-LVA启发技术
- **MCTS AI**: 蒙特卡洛树搜索算法，支持PaddlePaddle和PyTorch深度学习框架
- **高级评估**: 综合考虑棋子价值、位置优势、控制范围、安全性等多重因素

### 🎯 特色游戏机制
- **扩展棋盘**: 13×13网格，包含楚河汉界标识和九宫格区域
- **独特棋子**: 除传统棋子外，新增尉、射、檑、甲、刺、盾、巡等特色棋子
- **智能提示**: 高亮显示选中棋子的所有可行移动位置
- **轨迹追踪**: 可视化展示上一步移动的起点与终点

### 🔧 实用功能
- **棋谱记录**: 支持传统中文棋谱格式记录（如"炮二平五"、"马8进7"）
- **悔棋系统**: 支持双人模式和人机模式下的悔棋操作
- **音效系统**: 移动、吃子、将军等丰富音效反馈
- **个性化设置**: 可调节音效、全屏模式、AI难度等多种参数

## 🚀 快速开始

### 环境要求
- Python 3.6+
- PyGame 2.0+
- NumPy
- Redis（用于MCTS AI训练）

### 安装指南
```bash
# 1. 克隆项目仓库
git clone https://github.com/yourusername/xionghan-chess.git
cd xionghan-chess

# 2. 安装依赖包
pip install -r requirements.txt

# 3. 启动游戏
python -m program.main
```

## 🎲 游戏玩法

### 基础操作
- **选择棋子**: 点击棋子进行选中，可用移动位置将高亮显示
- **移动棋子**: 点击目标位置完成移动
- **特殊功能**: 
  - 悔棋按钮：撤销上一步操作
  - 设置按钮：调整游戏参数
  - 全屏切换：F11或Alt+Enter

### 胜负判定
- 将军/将死对手
- 汉/汗进入敌方九宫格
- 特殊规则胜利条件

## ⚙️ 特殊规则详解

### 棋子能力
- **汉/汗**: 可离开九宫，出宫后规则可能调整
- **仕/士**: 可扩展活动范围，可能获得额外移动能力
- **相/象**: 可过河作战，可能具备隔子攻击能力
- **兵/卒**: 拥有复活、升变、底线后退等特殊机制
- **特色棋子**: 每种特色棋子都有独特的移动和攻击规则

### 策略要点
- 利用扩展棋盘创造更多战术可能性
- 合理运用特色棋子的独特能力
- 注意控制棋盘中心和关键位置

## 📁 项目架构

```
program/
├── ai/                    # AI算法实现
│   ├── chess_ai.py        # 传统AI（Negamax）
│   └── mcts/              # MCTS算法相关
├── config/                # 配置管理
│   ├── settings.py        # 游戏设置
│   └── config.py          # 基础配置
├── core/                  # 核心逻辑
│   ├── chess_pieces.py    # 棋子定义
│   ├── game_rules.py      # 规则实现
│   └── game_state.py      # 游戏状态
├── ui/                    # 用户界面
│   ├── chess_board.py     # 棋盘渲染
│   └── game_screen.py     # 游戏屏幕
├── sounds/                # 音效资源
├── utils/                 # 工具函数
└── test/                  # 测试代码
```

## 🔧 技术亮点

### 架构设计
- **模块化结构**: 清晰的功能分离，便于维护和扩展
- **性能优化**: 高效的AI搜索算法和状态管理
- **可扩展性**: 支持多种AI算法和自定义规则

### 优化特性
- **智能搜索**: Alpha-Beta剪枝大幅提升AI响应速度
- **资源管理**: 高效的音效和图像资源加载
- **多线程处理**: AI计算与界面渲染分离

## 🌐 网络对战

支持局域网多人对战，采用简化的网络协议确保稳定的游戏体验。

## 🚧 未来规划

- [ ] 棋谱导入导出功能
- [ ] 棋局复盘与分析
- [ ] 更多AI难度级别
- [ ] 自定义棋盘主题
- [ ] 云存档功能
- [ ] 移动端适配

## 🤝 贡献指南

欢迎提交Issue和Pull Request来帮助改进项目。

## 📄 许可证

本项目采用MIT许可证 - 详见 [LICENSE](LICENSE) 文件

## 🙏 致谢

- 感谢所有为中国象棋文化传承做出贡献的爱好者
- 感谢开源社区提供的优质资源和工具
- 感谢匈牙利文化元素的灵感启发
